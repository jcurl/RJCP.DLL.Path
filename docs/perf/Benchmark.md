# Benchmark Results

These are the results of running the tool `PathBenchmark` between .NET 4.8 and
.NET Core 3.1.

## Overview and Measurements

The tests are run with the following machine. Results are specific to the OS,
.NET versions, and possibly the phase of the moon. They should be used for
relative comparisons only.

To build, use `git rj build --build -c preview`. Results are generated by `git
rj perf path` script in the parent git repository hosting this repository as a
submodule.

The results shown here are specifically before and after fixing changes related
to CA1859 (returning concrete types instead of the base type or interface),
which .NET claims is a performance improvement. Regarding this software, the
performance improvement is negligible.

### Test Runner - Windows

```text
Results = net48

BenchmarkDotNet=v0.13.12 OS=Windows 10 (10.0.19045.4046/22H2/2022Update)
Intel Core i7-6700T CPU 2.80GHz (Skylake), 1 CPU(s), 8 logical and 4 physical core(s)
  [HOST] : .NET Framework 4.8.1 (4.8.9181.0), X64 RyuJIT
```

```text
Results = net6

BenchmarkDotNet=v0.13.12 OS=Windows 10 (10.0.19045.4046/22H2/2022Update)
Intel Core i7-6700T CPU 2.80GHz (Skylake), 1 CPU(s), 8 logical and 4 physical core(s)
  [HOST] : .NET 6.0.27 (6.0.2724.6912), X64 RyuJIT
```

```text
Results = net8

BenchmarkDotNet=v0.13.12 OS=Windows 10 (10.0.19045.4046/22H2/2022Update)
Intel Core i7-6700T CPU 2.80GHz (Skylake), 1 CPU(s), 8 logical and 4 physical core(s)
  [HOST] : .NET 8.0.1 (8.0.123.58001), X64 RyuJIT
```

| Project 'path' Type             | Method          | mean (net48) | stderr | mean (net6) | stderr | mean (net8) | stderr |
|:--------------------------------|:----------------|-------------:|-------:|------------:|-------:|------------:|-------:|
| UnixPathAppendBenchmark         | RelativePath    | 149.74       | 0.18   | 108.80      | 0.14   | 98.92       | 0.11   |
| UnixPathAppendBenchmark         | RootPath        | 154.16       | 0.19   | 112.54      | 0.14   | 103.23      | 0.09   |
| UnixPathInstantiateBenchmark    | FixedDrive      | 109.76       | 0.05   | 97.03       | 0.11   | 71.25       | 0.10   |
| UnixPathInstantiateBenchmark    | RelativePath    | 186.56       | 0.17   | 167.14      | 0.33   | 121.21      | 0.08   |
| UnixPathParentBenchmark         | Parent          | 25.67        | 0.06   | 25.81       | 0.05   | 24.05       | 0.05   |
| UnixPathParentBenchmark         | ParentRoot      | 6.53         | 0.02   | 6.22        | 0.02   | 5.92        | 0.02   |
| UnixPathParentBenchmark         | RelativeParent  | 56.04        | 0.09   | 57.94       | 0.10   | 48.63       | 0.06   |
| UnixPathRelativeBenchmark       | PinnedRelative  | 99.27        | 0.18   | 92.77       | 0.19   | 69.38       | 0.12   |
| UnixPathTrimBenchmark           | NoTrim          | 5.70         | 0.02   | 4.94        | 0.02   | 2.23        | 0.01   |
| UnixPathTrimBenchmark           | Trimmed         | 78.46        | 0.03   | 77.30       | 0.11   | 63.00       | 0.07   |
| WindowsPathAppendBenchmark      | DosDrive        | 157.69       | 0.37   | 121.76      | 0.19   | 103.17      | 0.15   |
| WindowsPathAppendBenchmark      | DosDriveAbs     | 8.32         | 0.03   | 7.60        | 0.01   | 3.00        | 0.00   |
| WindowsPathAppendBenchmark      | RelativePath    | 156.89       | 0.20   | 119.02      | 0.36   | 101.73      | 0.10   |
| WindowsPathAppendBenchmark      | UncShare        | 154.88       | 0.31   | 115.89      | 0.13   | 100.26      | 0.12   |
| WindowsPathInstantiateBenchmark | DosDrive        | 98.70        | 0.15   | 87.62       | 0.13   | 68.70       | 0.11   |
| WindowsPathInstantiateBenchmark | RelativePath    | 186.29       | 0.09   | 166.05      | 0.29   | 121.34      | 0.15   |
| WindowsPathInstantiateBenchmark | UncShare        | 282.45       | 0.12   | 218.57      | 0.30   | 182.96      | 0.07   |
| WindowsPathInstantiateBenchmark | UncSharePartial | 152.53       | 0.06   | 108.99      | 0.24   | 87.92       | 0.12   |
| WindowsPathParentBenchmark      | DosParent       | 25.47        | 0.04   | 30.42       | 0.16   | 25.45       | 0.03   |
| WindowsPathParentBenchmark      | DosParentRoot   | 6.46         | 0.02   | 7.49        | 0.05   | 5.30        | 0.00   |
| WindowsPathParentBenchmark      | RelativeParent  | 56.94        | 0.10   | 59.34       | 0.13   | 51.08       | 0.05   |
| WindowsPathParentBenchmark      | UncParent       | 23.35        | 0.04   | 24.54       | 0.06   | 21.99       | 0.02   |
| WindowsPathParentBenchmark      | UncParentRoot   | 1.17         | 0.01   | 1.48        | 0.01   | 1.75        | 0.01   |
| WindowsPathRelativeBenchmark    | DosRelative     | 110.46       | 0.21   | 97.75       | 0.19   | 69.24       | 0.05   |
| WindowsPathTrimBenchmark        | NoTrim          | 7.54         | 0.03   | 4.69        | 0.02   | 2.00        | 0.01   |
| WindowsPathTrimBenchmark        | Trimmed         | 79.30        | 0.14   | 77.74       | 0.12   | 63.90       | 0.10   |
